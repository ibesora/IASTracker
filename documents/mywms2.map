# The annotated map file (sort of)
# Created by Pericles S. Nacionales for the MapServer tutorial
# 20050408
#
# MapServer map file uses the pound sign (#) to denote the start of a line
# comment--each line that needs to be commented has to be prepended with a "#".
#
# Map files begin with MAP keyword to signify the start of the map object.
# Well, the entire map file is THE map object.  Enclosed between MAP and END
# at the very bottom of this map file, are keyword/value pairs and other
# objects.
MAP
	NAME "IASTracker"
	#CONFIG "MS_ERRORFILE" "/ms4w/tmp/ms_error.txt"
	DEBUG 3	#Put it back to 0 when working
	CONFIG "CPL_DEBUG" "ON"
	CONFIG "PROJ_DEBUG" "ON"
	STATUS ON
	IMAGETYPE      PNG
	EXTENT 1143759 4417539 1146436 4420390
	UNITS METERS 
	SIZE           400 400
	TRANSPARENT OFF
	IMAGECOLOR     255 255 255
  
	WEB
		METADATA
			"wms_title"     "IASTracker Map"  ##required
			"wms_onlineresource" "http://127.0.0.1/mapvserv/mapserv.exe?"   ##required
			"wms_srs"       "EPSG:42304 EPSG:42101 EPSG:4269 EPSG:4326"  ##recommended
			"wms_enable_request" "*"   ##necessary
		END
	END # Web
	
SYMBOL
  NAME "circle"
  TYPE ellipse
  FILLED true
  POINTS
    1 1
  END
END
	
	PROJECTION
		"proj=longlat"
		"ellps=WGS84"
		"datum=WGS84"
		"no_defs"
	END

	# Layer objects are defined beneath the map object.  You need at least one
	# layer defined in your map file before you can display a map...  You can
	# define as many layers as you'd like although a limit is typically hard-coded
	# in map.h in the MapServer source.  The default limit is set at 100.  You'd
	# have to have a very specialized application to need more than 100 layers in
	# your application.

	# Start of LAYER DEFINITIONS ---------------------------------------------
	LAYER
		NAME         Observations
		CONNECTIONTYPE POSTGIS
		CONNECTION "host=127.0.0.1 dbname=IASTrackerDB user=iastracker password=12345678 port=5432"
		DATA         "the_geom FROM poi"
		STATUS       ON
		TYPE         POINT
		METADATA
			"wms_title"    "Observations"   ##required
		END
		
		SIZEUNITS kilometers

		# The class object is defined within the layer object.  You can define as
		# many classes as you need (well, there are limits as with layers, but it's
		# senseless to define more than ten on a "normal" layer.  There are
		# situations, however, where you might have to do it.)
		CLASS
			NAME	"IAS Observation"
                SIZE 10
        STYLE
            COLOR 255 0 0
            OUTLINECOLOR 0 0 0
            SYMBOL "circle"
                END
                TEXT ([poi_user], [poi_time])
                LABEL
                    COLOR 255 0 0
                    FONT verdana
                    TYPE TRUETYPE
                    SIZE 7
                    POSITION LC
                    WRAP " "
                END
        END
		END
	END # States polygon layer ends here
END
	# End of LAYER DEFINITIONS -------------------------------

END # All map files must come to an end just as all other things must come to...
